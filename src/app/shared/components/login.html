<sd-small-modal title="Login" #modal>
  @if (failure) { @if (userLogin) {
  <div class="alert alert-danger">
    Benutzername oder Password sind ungültig.
  </div>
  } @else {
  <div class="alert alert-danger">
    Der Zugangscode ist ungültig oder abgelaufen.
  </div>
  } }

  <form (submit)="submit()">
    @if (userLogin) {
    <div class="form-group">
      <label for="username">Benutzername</label>
      <input
        type="string"
        class="form-control"
        name="username"
        [(ngModel)]="username"
      />
    </div>
    <div class="form-group">
      <label for="password">Passwort</label>
      <input
        type="password"
        class="form-control"
        name="password"
        [(ngModel)]="password"
      />
    </div>
    <div class="form-group">
      <a href="https://my.rabe.ch/auth/forgotpw">Passwort vergessen?</a>
    </div>
    <div class="form-group">
      <a (click)="displayAccessCode()">Du hast einen Zugangscode?</a>
    </div>
    } @else {
    <div class="form-group">
      <label for="username">Zugangscode</label>
      <input
        type="string"
        class="form-control"
        name="accessCode"
        [(ngModel)]="accessCode"
      />
    </div>
    <div class="form-group">
      Du hast keinen Zugangscode?
      <a href="http://www.rabe.ch//mitglied-werden">Werde RaBe-Mitglied</a>
      und erhalte den Zugang zum Archiv.
    </div>
    <div class="form-group">
      <a (click)="displayUserLogin()">Du hast ein RaBe Login?</a>
    </div>
    }
    <button
      type="submit"
      class="btn btn-primary btn-default"
      [class.disabled]="checking"
    >
      Login
    </button>
    <a (click)="close()" class="cancel">Abbrechen</a>
  </form>
</sd-small-modal>
